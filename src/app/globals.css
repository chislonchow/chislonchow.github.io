
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 33 71% 94%; /* #FBf0e5 Warm, desaturated beige */
    --foreground: 202 25% 20%; /* Darker, desaturated blue for text - Increased contrast */

    --card: 33 71% 93%; /* Lighter beige for cards */
    --card-foreground: 202 25% 20%;

    --popover: 33 71% 90%; /* Slightly darker than background */
    --popover-foreground: 202 25% 20%;

    --primary: 202 40% 60%; /* #89B3C9 Soft blue - More prominent */
    --primary-foreground: 0 0% 100%; /* White text on primary */

    --secondary: 33 71% 90%; /* A slightly darker beige for secondary elements */
    --secondary-foreground: 202 20% 30%;

    --muted: 33 71% 88%;
    --muted-foreground: 202 20% 65%; /* Adjusted for lighter footer text */

    --accent: 340 25% 60%; /* #B88DA0 Darker dusty rose */
    --accent-foreground: 0 0% 10%; /* Dark text on accent */

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    --border: 33 30% 85%; /* Lighter border color */
    --input: 33 30% 88%; /* Lighter input border color */
    --ring: 202 40% 60%; /* Primary color for rings - Adjusted to match new primary */

    --radius: 0.5rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-medium; /* Changed from font-semibold to font-medium */
  }
  @media (hover: hover) {
    /* This block can be used for hover-specific styles on devices that support true hover. */
    /* Tailwind's hover: utilities generally handle this well for most cases. */
  }
}

@layer components {
  /* Basic styling for markdown content */
  /* Note: .markdown-content h1 styles what becomes <h2> after remark-behead, h2 styles <h3> etc. */
  .markdown-content h1 { /* Rendered as <h2> from # H1 */
    @apply text-lg md:text-2xl font-bold mb-5 font-headline text-foreground;
  }
  .markdown-content h2 { /* Rendered as <h3> from ## H2 */
    @apply text-base md:text-xl font-semibold mb-3.5 font-headline text-foreground;
  }
  .markdown-content h3 { /* Rendered as <h4> from ### H3 */
    @apply text-base md:text-xl font-semibold mb-2.5 font-headline text-foreground;
  }
  .markdown-content h4 { /* Rendered as <h5> from #### H4 */
    @apply text-sm md:text-lg font-semibold mb-1.5 font-headline text-foreground;
  }
  .markdown-content h5 { /* Rendered as <h6> from ##### H5 */
    @apply text-sm md:text-base font-semibold mb-1.5 font-headline text-foreground;
  }
  .markdown-content h6 { /* Rendered as <p> or <h6> from ###### H6 */
    @apply text-sm md:text-sm font-semibold mb-1 font-headline text-foreground;
  }
  .markdown-content p {
    @apply mb-4 text-sm md:text-base leading-normal font-body indent-4; /* Adjusted md size from text-lg to text-base, Added indent-4 */
  }
  .markdown-content a {
    @apply text-accent hover:underline;
  }
  .markdown-content ul {
    @apply list-disc list-inside mb-4 pl-4 font-body text-sm md:text-base;
  }
  .markdown-content ol {
    @apply list-decimal list-inside mb-4 pl-4 font-body text-sm md:text-base;
  }
  .markdown-content li {
    @apply mb-2 text-sm md:text-base;
  }
  .markdown-content blockquote {
    @apply border-l-4 border-accent pl-4 italic my-4 text-muted-foreground text-sm md:text-base;
  }
  .markdown-content blockquote p { /* Reset indent for paragraphs inside blockquotes */
    @apply indent-0;
  }
  .markdown-content hr {
    @apply my-8 border-t border-border;
  }
  .markdown-content code { /* Inline code */
    @apply bg-muted text-muted-foreground px-1 py-0.5 rounded-sm font-code text-sm;
  }
  .markdown-content pre { /* Code block container */
    @apply bg-muted p-4 rounded-md overflow-x-auto my-4;
  }
  .markdown-content pre code { /* Code inside block - remove inline styling */
    @apply bg-transparent text-muted-foreground p-0 rounded-none font-code text-sm;
  }
  .markdown-content strong, .markdown-content b {
    @apply font-bold;
  }
  .markdown-content em, .markdown-content i {
    @apply italic;
  }
  .markdown-content del, .markdown-content s {
    @apply line-through;
  }
  .markdown-content sub,
  .markdown-content sup {
    @apply text-xs font-normal relative;
  }
  .markdown-content sub {
    @apply -bottom-0.5;
  }
  .markdown-content sup {
    @apply -top-0.5;
  }
  .markdown-content sub code,
  .markdown-content sup code {
    @apply text-xs px-0.5; /* Match parent font size and adjust padding */
  }

  /* Responsive video container for iframes */
  .markdown-content .responsive-video-container {
    position: relative;
    overflow: hidden;
    width: 100%; /* Default: take full width of parent for < md screens */
    padding-top: 56.25%; /* 16:9 Aspect Ratio for < md screens */
    height: 0; /* Crucial for padding-top trick on < md screens */
    margin-left: auto; /* Center the container */
    margin-right: auto; /* Center the container */
    margin-bottom: 1rem; /* Spacing below the video */
    display: block; /* Ensure it behaves as a block element */
    box-sizing: border-box; /* Standard box model */
    border: 1px solid hsl(var(--border)); /* Added faint border */
  }

  /* Apply fixed size from md breakpoint upwards */
  @media (min-width: 768px) { /* Tailwind's 'md' breakpoint */
    .markdown-content .responsive-video-container {
      width: 560px; /* Fixed width */
      max-width: 100%; /* Important: if parent column is < 560px, container will shrink. */
                         /* Height will remain 315px, potentially breaking aspect ratio in that case. */
      height: 315px; /* Fixed height for 16:9 at 560px width (560 * 9 / 16) */
      padding-top: 0; /* Override responsive padding-top; fixed height is used instead */
    }
  }

  .markdown-content .responsive-video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100% !important; /* Ensure iframe fills the container */
    height: 100% !important; /* Ensure iframe fills the container */
    border: none; /* Removes default iframe border */
  }

  /* Chinese-specific font size increases for markdown content */
  body.lang-zh .markdown-content p,
  body.lang-zh .markdown-content li,
  body.lang-zh .markdown-content ul,
  body.lang-zh .markdown-content ol,
  body.lang-zh .markdown-content blockquote {
    @apply text-base md:text-lg; /* Increased from text-sm md:text-base */
  }

  body.lang-zh .markdown-content h1 { /* Rendered as <h2> from # H1 */
    @apply text-xl md:text-3xl;
  }
  body.lang-zh .markdown-content h2 { /* Rendered as <h3> from ## H2 */
    @apply text-lg md:text-2xl;
  }
  body.lang-zh .markdown-content h3 { /* Rendered as <h4> from ### H3 */
    @apply text-lg md:text-2xl;
  }
  body.lang-zh .markdown-content h4 { /* Rendered as <h5> from #### H4 */
    @apply text-base md:text-xl;
  }
  body.lang-zh .markdown-content h5 { /* Rendered as <h6> from ##### H5 */
    @apply text-base md:text-lg;
  }
  body.lang-zh .markdown-content h6 { /* Rendered as <p> or <h6> from ###### H6 */
    @apply text-base md:text-base;
  }

  /* Sonner Toast Link Styling */
  [data-sonner-toast] a {
    @apply text-accent hover:underline;
  }
}
